import{c as B,r as m,S as $,R as a,d as h,e as r,G as A,B as M,b as i,f as d,u as s,I as g,aq as f,g as p,q as N,k as _,s as R,n as t,t as v,w as U,a0 as V,z as D,a1 as G,i as H,H as I,D as j}from"./index.90dc39b8.js";import{_ as E}from"./NotificationBarInCard.8078af59.js";const J={key:0,role:"status"},O=["onSubmit"],P={class:"block"},q={class:"text-xl font-bold text-white float-left"},z=t("label",{class:"mb-2 last:mb-0 text-sm font-mediumtext-bold block font-bold"},"Logo photo",-1),F={class:"mt-1 flex justify-center rounded-md border-2 border-dashed border-gray-300 px-6 pt-5 pb-6"},T={class:"space-y-1 text-center"},W=["src","alt"],K={key:1},Q=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[t("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),X=[Q],Y={class:"flex text-sm text-gray-600"},Z={for:"file-upload",class:"relative cursor-pointer rounded-md bg-white font-medium text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:text-indigo-500"},tt=t("span",null,"Upload a file",-1),st=t("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF up to 10MB",-1),et={class:"flex items-start mt-6"},ot={class:"flex items-center h-5"},at=t("div",{class:"ml-3 text-sm"},[t("label",{for:"status",class:"font-medium"},"Active")],-1),lt={class:"px-6 py-5 text-right sm:px-6"},ct={__name:"LogoView",setup(it){const c=M(),u=j(),x=B(()=>a.state.logos.loading);m(!1);let e=m({image_url:null,status:!1});$(()=>a.state.logos.data,(o,l)=>{e.value={...JSON.parse(JSON.stringify(o)),status:!!o.status}}),c.params.id&&a.dispatch("getLogo",c.params.id);function b(o){const l=o.target.files[0],n=new FileReader;n.onload=()=>{e.value.image=n.result,e.value.image_url=n.result,o.target.value=""},n.readAsDataURL(l)}function w(){let o="created";e.value.id&&(o="updated"),a.dispatch("saveLogo",{...e.value}).then(({data:l})=>{a.commit("notify",{type:"success",message:"The Logo was successfully "+o}),e.value.id?(a.dispatch("getLogos"),u.push("/logos/create")):u.push({name:"LogoView",params:{id:l.data.id}})})}const k=m(!0),y=m(0),L=["info"];function C(){a.dispatch("getLogo"),u.push("/logos")}function S(){u.push("/logos/create").then(()=>{window.location.reload(!0)})}return a.dispatch("getUser"),(o,l)=>(i(),h(A,null,{default:r(()=>[d(I,null,{default:r(()=>[s(c).params.id?(i(),h(g,{key:0,icon:s(f),title:"Edit logo",class:"font-bold",main:""},{default:r(()=>[d(p,{target:"_blank",icon:s(f),label:"Add Logo",color:"contrast","rounded-full":"",small:"",onClick:S},null,8,["icon"])]),_:1},8,["icon"])):(i(),h(g,{key:1,icon:s(f),title:"Add logo",class:"font-bold",main:""},null,8,["icon"])),d(N,{class:"shadow-xl"},{default:r(()=>[s(x)?(i(),_("div",J,[d(R)])):(i(),_("form",{key:1,onSubmit:H(w,["prevent"])},[d(E,{color:L[y.value],"is-placed-with-header":k.value},{default:r(()=>[t("div",P,[t("span",null,[t("h1",q,v(s(c).params.id?"Edit logo":"Add logo"),1)]),d(p,{class:"w-[200px] float-left sm:ssm:msm:mt-3 md:float-right lg:float-right",target:"_blank",icon:s(f),label:"Logos",color:"contrast","rounded-full":"",small:"",onClick:C},null,8,["icon"])])]),_:1},8,["color","is-placed-with-header"]),t("div",null,[z,t("div",F,[t("div",T,[s(e).image_url?(i(),_("img",{key:0,src:s(e).image_url,alt:s(e).name,class:"w-64 h-48 object-cover transition-all rounded-md transform hover:scale-125"},null,8,W)):(i(),_("span",K,X)),t("div",Y,[t("label",Z,[tt,t("input",{onChange:b,id:"file-upload",name:"file-upload",type:"file",class:"sr-only"},null,32)])]),st])])]),t("div",et,[t("div",ot,[U(t("input",{id:"status",name:"status",type:"checkbox","onUpdate:modelValue":l[0]||(l[0]=n=>s(e).status=n),class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 rounded"},null,512),[[V,s(e).status]])]),at]),t("div",lt,[t("button",{type:"submit",class:D([s(G),"text-white"])},v(s(c).params.id?"Update":"Save"),3)])],40,O))]),_:1})]),_:1})]),_:1}))}};export{ct as default};
