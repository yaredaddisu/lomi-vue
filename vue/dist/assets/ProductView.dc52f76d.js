import{r as ref,ac as resolveComponent,b as openBlock,k as createElementBlock,n as createBaseVNode,t as toDisplayString,f as createVNode,e as withCtx,V as _sfc_main$2,w as withDirectives,O as vModelText,z as normalizeClass,u as unref,a1 as PurpleToBlue,at as TealToLime,aw as GreenToBlue,ax as PurpleToPink,as as cyanToBlue,j as createCommentVNode,F as Fragment,l as renderList,x as createTextVNode,c as computed,S as watch,R as store,d as createBlock,G as _sfc_main$3,B as useRoute,I as _sfc_main$4,av as mdiSitemap,g as _sfc_main$5,au as RedToYellow,q as _sfc_main$7,s as _sfc_main$8,U as Alert,a0 as vModelCheckbox,i as withModifiers,H as _sfc_main$a,D as useRouter}from"./index.90dc39b8.js";import{_ as _sfc_main$6}from"./FormField.c641b78f.js";import{_ as _sfc_main$9}from"./NotificationBarInCard.8078af59.js";import{v as v4}from"./v4.83dbd2d9.js";const _hoisted_1$1={class:"flex items-center justify-between"},_hoisted_2$1={class:"text-lg font-bold"},_hoisted_3$1={class:"flex items-center"},_hoisted_4$1=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),_hoisted_5$1=createTextVNode(" Add "),_hoisted_6$1=[_hoisted_4$1,_hoisted_5$1],_hoisted_7$1=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),_hoisted_8$1=createTextVNode(" Delete "),_hoisted_9$1=[_hoisted_7$1,_hoisted_8$1],_hoisted_10$1={class:"grid gap-3 grid-cols-12"},_hoisted_11$1={class:"mt-3 col-span-9"},_hoisted_12$1={class:"mt-3 col-span-3"},_hoisted_13$1={class:"grid grid-cols-3 gap-4 grid:ssm ssm:grid-cols-1 msm:grid-cols-1 md:grid-cols-1"},_hoisted_14$1={class:"mt-3"},_hoisted_15$1=["for"],_hoisted_16$1=["name","id"],_hoisted_17$1={class:"mt-3"},_hoisted_18$1=["for"],_hoisted_19$1={class:"mt-3"},_hoisted_20$1=["for"],_hoisted_21$1=["value"],_hoisted_22$1={class:"grid grid-cols-3 gap-4 grid:ssm ssm:grid-cols-1 grid:msm msm:grid-cols-1 black:bg-gray-800"},_hoisted_23$1={class:"mt-3"},_hoisted_24$1=["for"],_hoisted_25$1=["value"],_hoisted_26$1={class:"mt-3"},_hoisted_27$1=["for"],_hoisted_28$1=["value"],_hoisted_29$1={class:"mt-3"},_hoisted_30=["for"],_hoisted_31={key:0,class:"mt-2"},_hoisted_32={class:"text-sm font-semibold mb-1 flex justify-between items-center"},_hoisted_33=createTextVNode(" Options "),_hoisted_34=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),_hoisted_35=createTextVNode(" Add Option "),_hoisted_36=[_hoisted_34,_hoisted_35],_hoisted_37={key:0,class:"text-xs text-gray-600 text-center py-3"},_hoisted_38={class:"w-6 text-sm"},_hoisted_39={class:"grid grid-cols-4 md:grid-cols-2 grid:ssm ssm:grid-cols-1 grid:msm msm:grid-cols-1"},_hoisted_40=createBaseVNode("label",{for:"",class:"m-2"},"Price ",-1),_hoisted_41=createBaseVNode("label",{for:"",class:"m-2"},"Product name",-1),_hoisted_42=createBaseVNode("label",{for:"",class:"m-2"},"Quantity",-1),_hoisted_43=createBaseVNode("label",{for:"",class:"m-2"},"Sold out",-1),_hoisted_44=["onClick"],_hoisted_45=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",viewBox:"0 0 20 20",fill:"currentColor"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),_hoisted_46=[_hoisted_45],_hoisted_47=createBaseVNode("hr",{class:"my-4"},null,-1),_sfc_main$1={__name:"QuestionEditor",props:{question:Object,index:Number},emits:["change","addQuestion","deleteQuestion"],setup(t,{emit:o}){const a=t,e=ref(JSON.parse(JSON.stringify(a.question)));function f(){return e.value.data.options}function l(m){e.value.data.options=m}function c(){return["select","checkbox"].includes(e.value.type)}function r(){l([...f(),{uuid:v4(),text:""}]),i()}function u(m){l(f().filter(d=>d!==m)),i()}function n(){c()&&l(f()||[]),i()}function i(){const m=e.value;o("change",m)}function g(){o("addQuestion",a.index+1)}function v(){o("deleteQuestion",a.question)}const V=["checkbox","select"];return(m,d)=>{const h=resolveComponent("FormField");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$1,[createBaseVNode("h3",_hoisted_2$1,toDisplayString(t.index+1)+". "+toDisplayString(e.value.question),1),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("button",{type:"button",onClick:d[0]||(d[0]=s=>g()),class:"flex items-center text-lg py-1 px-3 mr-2 rounded-sm text-white bg-gray-600 hover:bg-gray-700"},_hoisted_6$1),createBaseVNode("button",{type:"button",onClick:d[1]||(d[1]=s=>v()),class:"flex items-center text-lg py-1 px-3 rounded-sm border border-transparent text-red-500 hover:border-red-600"},_hoisted_9$1)])]),createBaseVNode("div",_hoisted_10$1,[createBaseVNode("div",_hoisted_11$1,[createVNode(h,{label:"Enter your product name"},{default:withCtx(()=>[createVNode(_sfc_main$2,{type:"text",name:"question_text_"+e.value.data,modelValue:e.value.question,"onUpdate:modelValue":d[2]||(d[2]=s=>e.value.question=s),onChange:i,id:"question_text_"+e.value.data,class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm rounded-md",placeholder:"Enter product name"},null,8,["name","modelValue","id"])]),_:1})]),createBaseVNode("div",_hoisted_12$1,[createVNode(h,{label:"Select Type"},{default:withCtx(()=>[createVNode(_sfc_main$2,{id:"question_type",name:"question_type",modelValue:e.value.type,"onUpdate:modelValue":d[3]||(d[3]=s=>e.value.type=s),onChange:n,selected:m.select,options:V},null,8,["modelValue","selected"])]),_:1})])]),createBaseVNode("div",_hoisted_13$1,[createBaseVNode("div",_hoisted_14$1,[createBaseVNode("label",{for:"totalPrice_text_"+e.value.data,class:"block text-sm font-medium"},"Total price ",8,_hoisted_15$1),withDirectives(createBaseVNode("input",{type:"text",name:"totalPrice_text_"+e.value.data,"onUpdate:modelValue":d[4]||(d[4]=s=>e.value.totalPrice=s),onChange:i,id:"totalPrice_text_"+e.value.data,class:normalizeClass([unref(PurpleToBlue),"w-full text-2xl"])},null,42,_hoisted_16$1),[[vModelText,e.value.totalPrice]])]),createBaseVNode("div",_hoisted_17$1,[createBaseVNode("label",{for:"total_sold"+e.value.data,class:"block text-sm font-medium"},"Total sold",8,_hoisted_18$1),createBaseVNode("button",{type:"button",onChange:i,class:normalizeClass([unref(TealToLime),"w-full text-2xl"])},toDisplayString(m.$filters.currencyUSD(e.value.total_sold)),35)]),createBaseVNode("div",_hoisted_19$1,[createBaseVNode("label",{for:"profit"+e.value.data,class:"block text-sm font-medium"},"Profit",8,_hoisted_20$1),createBaseVNode("button",{type:"button",value:e.value.profit,onChange:i,class:normalizeClass([unref(GreenToBlue),"w-full text-2xl"]),disabled:""},toDisplayString(m.$filters.currencyUSD(e.value.profit)),43,_hoisted_21$1)])]),createBaseVNode("div",_hoisted_22$1,[createBaseVNode("div",_hoisted_23$1,[createBaseVNode("label",{for:"total_quantity"+e.value.data,class:"block text-sm font-medium"},"Total Quantity",8,_hoisted_24$1),createBaseVNode("button",{type:"button",onChange:i,class:normalizeClass([unref(PurpleToPink),"w-full text-2xl"]),disabled:"",value:e.value.total_quantity},toDisplayString(e.value.total_quantity),43,_hoisted_25$1)]),createBaseVNode("div",_hoisted_26$1,[createBaseVNode("label",{for:"sold_count"+e.value.data,class:"block text-sm font-medium"},"Total quantity sold",8,_hoisted_27$1),createBaseVNode("button",{type:"button",onChange:i,class:normalizeClass([unref(cyanToBlue),"w-full text-2xl"]),disabled:"",value:e.value.sold_count},toDisplayString(e.value.sold_count),43,_hoisted_28$1)]),createBaseVNode("div",_hoisted_29$1,[createBaseVNode("label",{for:"remaining"+e.value.data,class:"block text-sm font-medium"},"Remaining products",8,_hoisted_30),createBaseVNode("button",{type:"button",onChange:i,class:normalizeClass([unref(PurpleToPink),"w-full text-2xl"]),disabled:""},toDisplayString(e.value.total_quantity-e.value.sold_count),35)])]),createVNode(h,{label:"Description"},{default:withCtx(()=>[createVNode(_sfc_main$2,{type:"textarea",name:"question_description_"+e.value.id,modelValue:e.value.description,"onUpdate:modelValue":d[5]||(d[5]=s=>e.value.description=s),onChange:i,id:"question_description_"+e.value.id,class:"mt-5 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm rounded-md",placeholder:"Product Description"},null,8,["name","modelValue","id"])]),_:1}),createBaseVNode("div",null,[c()?(openBlock(),createElementBlock("div",_hoisted_31,[createBaseVNode("h4",_hoisted_32,[_hoisted_33,createBaseVNode("button",{type:"button",onClick:d[6]||(d[6]=s=>r()),class:"flex items-center text-lg py-1 px-2 rounded-sm text-white bg-gray-600 hover:bg-gray-700"},_hoisted_36)]),e.value.data.options.length?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_37," You don't have any options defined ")),createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.value.data.options,(s,x)=>(openBlock(),createElementBlock("div",{key:s.uuid,class:"flex items-center mb-1"},[createBaseVNode("span",_hoisted_38,toDisplayString(x+1)+". ",1),createBaseVNode("div",_hoisted_39,[createVNode(h,{label:"Price"},{default:withCtx(()=>[_hoisted_40,createVNode(_sfc_main$2,{type:"text",tabindex:"1",modelValue:s.price,"onUpdate:modelValue":p=>s.price=p,onChange:i,placeholder:"Price "},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(h,{label:"Product Name"},{default:withCtx(()=>[_hoisted_41,createVNode(_sfc_main$2,{type:"text",tabindex:"1",modelValue:s.text,"onUpdate:modelValue":p=>s.text=p,onChange:i,placeholder:"Product name "},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(h,{label:"Quantity"},{default:withCtx(()=>[_hoisted_42,createVNode(_sfc_main$2,{type:"text",tabindex:"1",modelValue:s.quantity,"onUpdate:modelValue":p=>s.quantity=p,onChange:i,placeholder:"Quantity  "},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),createVNode(h,{label:"Sold out"},{default:withCtx(()=>[_hoisted_43,createVNode(_sfc_main$2,{type:"text",tabindex:"1",modelValue:s.sold_out,"onUpdate:modelValue":p=>s.sold_out=p,onChange:i,placeholder:"Sold out "},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),createBaseVNode("button",{type:"button",onClick:p=>u(s),class:"h-[40px] w-auto md:ml-auto lg:ml-20 mt-3 rounded-full flex items-center justify-center border border-transparent transition-colors hover:border-red-100"},_hoisted_46,8,_hoisted_44)]))),128))])])):createCommentVNode("",!0)]),_hoisted_47],64)}}},_hoisted_1={key:2},_hoisted_2={class:"grid grid-cols-6 gap-4 sm:grid-cols-1 msm:grid-cols-1 md:grid-cols-2"},_hoisted_3={key:0,role:"status"},_hoisted_4=["onSubmit"],_hoisted_5={class:"block"},_hoisted_6={class:"text-xl font-bold text-white float-left"},_hoisted_7={key:0},_hoisted_8={class:"shadow sm:rounded-md sm:overflow-hidden black:bg-gray-800"},_hoisted_9={class:"px-4 py-5 black:bg-gray-800 space-y-6 sm:p-6"},_hoisted_10=createBaseVNode("label",{class:"block text-lg font-bold"}," Product Image ",-1),_hoisted_11={class:"mt-1 flex items-center"},_hoisted_12=["src","alt"],_hoisted_13={key:1,class:"flex items-center justify-center h-12 w-12 rounded-full overflow-hidden"},_hoisted_14=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-[80%] w-[80%] text-gray-300",viewBox:"0 0 20 20",fill:"currentColor"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})],-1),_hoisted_15=[_hoisted_14],_hoisted_16={type:"button",class:"relative overflow-hidden ml-5 py-2 px-3 border rounded-md shadow-sm text-sm leading-4 font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},_hoisted_17=createTextVNode(" Change "),_hoisted_18={class:"flex items-start"},_hoisted_19={class:"flex items-center h-5"},_hoisted_20=createBaseVNode("div",{class:"ml-3 text-sm"},[createBaseVNode("label",{for:"status",class:"font-medium"},"Status")],-1),_hoisted_21={class:"px-4 py-5 space-y-6 sm:p-6"},_hoisted_22={class:"text-2xl font-semibold flex items-center justify-between"},_hoisted_23=createTextVNode(" Products "),_hoisted_24=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),_hoisted_25=createTextVNode(" Add Product "),_hoisted_26=[_hoisted_24,_hoisted_25],_hoisted_27={key:0,class:"text-center text-gray-600"},_hoisted_28={class:"px-4 py-3 text-right sm:px-6"},_hoisted_29={type:"submit",class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},_sfc_main={__name:"ProductView",setup(__props){const router=useRouter(),route=useRoute(),loading=computed(()=>store.state.currentProduct.loading);let model=ref({id:"",title:"",status:!1,description:null,image:null,image_url:null,expire_date:null,questions:[]});watch(()=>store.state.currentProduct.data,(t,o)=>{model.value={...JSON.parse(JSON.stringify(t)),status:!!t.status}}),route.params.id&&store.dispatch("getProduct",route.params.id);function onImageChoose(t){const o=t.target.files[0],a=new FileReader;a.onload=()=>{model.value.image=a.result,model.value.image_url=a.result,t.target.value=""},a.readAsDataURL(o)}function addQuestion(t){const o={id:v4(),type:"text",question:"",description:null,data:{},totalPrice:"0",total_sold:"0",profit:"0",total_quantity:"0",sold_count:"0",total_price:"0"};model.value.questions.splice(t,0,o)}function deleteQuestion(t){model.value.questions=model.value.questions.filter(o=>o!==t)}function questionChange(t){t.data.options&&(t.data.options=[...t.data.options]),model.value.questions=model.value.questions.map(o=>o.id===t.id?JSON.parse(JSON.stringify(t)):o)}const errors=ref({});ref({total_price:0,totalSold:0,totalProfit:0});function saveProduct(){let totalSold=[],totalQuantity=[],totalQuantitySold=[];model.value.questions.forEach((t,o)=>{let a=t.data.options.map((l,c)=>parseInt(l.price)),e=t.data.options.map((l,c)=>parseInt(l.quantity)),f=t.data.options.map((l,c)=>parseInt(l.sold_out));if(t.data.options!==[]){let l=a.reduce((u,n)=>u+n,0);totalSold.push({id:t.id,total_sold:l});let c=e.reduce((u,n)=>u+n,0);totalQuantity.push({id:t.id,total_quantity:c});let r=f.reduce((u,n)=>u+n,0);totalQuantitySold.push({id:t.id,sold_count:r})}totalQuantity.forEach((l,c)=>{model.value.questions.forEach((r,u)=>{let n=r.id;l.id==n&&(r.total_quantity=l.total_quantity)})}),totalQuantitySold.forEach((l,c)=>{model.value.questions.forEach((r,u)=>{let n=r.id;l.id==n&&(r.sold_count=l.sold_count,console.log(r.sold_count))})})}),totalSold.forEach((total,_)=>{model.value.questions.forEach((sold,_)=>{let id=sold.id;total.id==id&&(total.total_sold==0?sold.total_sold=sold.total_sold:sold.total_sold=eval(parseInt(sold.total_sold)+parseInt(total.total_sold))),model.value.questions.forEach((item,_)=>{item.data.options.forEach((option,_)=>{option.price=eval(parseInt(option.price)-parseInt(option.price))})}),model.value.questions.forEach((pro,_)=>{pro.profit=eval(parseInt(pro.total_sold)-parseInt(pro.totalPrice))}),model.value.questions.forEach((pro,_)=>{pro.profit=eval(parseInt(pro.total_sold)-parseInt(pro.totalPrice))})})});let action="created";model.value.id&&(action="updated"),store.dispatch("saveProduct",{...model.value}).then(({data:t})=>{store.commit("notify",{type:"success",message:"Product was successfully "+action}),router.push({name:"ProductView",params:{id:t.data.id}}),store.dispatch("getProduct")}).catch(t=>{t.response.status===422&&(errors.value=t.response.data.errors)})}const formStatusWithHeader=ref(!0),formStatusCurrent=ref(0),formStatusOptions=["info"];function ProductsList(){router.push("/products"),store.dispatch("getProducts")}function addProduct(){router.push("/products/create").then(()=>{window.location.reload(!0)})}return store.dispatch("getUser"),(t,o)=>(openBlock(),createBlock(_sfc_main$3,null,{default:withCtx(()=>[createVNode(_sfc_main$a,null,{default:withCtx(()=>[unref(route).params.id?(openBlock(),createBlock(_sfc_main$4,{key:0,icon:unref(mdiSitemap),title:"Edit product",class:"font-bold",main:""},{default:withCtx(()=>[createVNode(_sfc_main$5,{target:"_blank",icon:unref(mdiSitemap),label:"Add product",color:"contrast","rounded-full":"",small:"",onClick:addProduct},null,8,["icon"])]),_:1},8,["icon"])):(openBlock(),createBlock(_sfc_main$4,{key:1,icon:unref(mdiSitemap),title:"Add product",class:"font-bold",main:""},null,8,["icon"])),unref(route).params.id?(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode(_sfc_main$6,{label:"Total invested prcie"},{default:withCtx(()=>[createBaseVNode("button",{title:`  Total price\r
      `,class:normalizeClass([unref(cyanToBlue),"h-auto w-auto text-lg"])},toDisplayString(t.$filters.currencyUSD(unref(model).totalPrice)),3)]),_:1}),createVNode(_sfc_main$6,{label:"Total sold price"},{default:withCtx(()=>[createBaseVNode("button",{title:`  Total sold out\r
      `,class:normalizeClass([unref(TealToLime),"h-auto w-auto text-lg"])},toDisplayString(t.$filters.currencyUSD(unref(model).totalSold)),3)]),_:1}),createVNode(_sfc_main$6,{label:" Total profit"},{default:withCtx(()=>[createBaseVNode("button",{title:`  Total profit\r
      `,class:normalizeClass([unref(cyanToBlue),"h-auto w-auto text-lg"])},toDisplayString(t.$filters.currencyUSD(unref(model).profit)),3)]),_:1}),createVNode(_sfc_main$6,{label:"Total quantity"},{default:withCtx(()=>[createBaseVNode("button",{title:`  Total quantity\r
                 `,class:normalizeClass([unref(PurpleToPink),"h-auto w-auto text-lg"])},toDisplayString(unref(model).totalQuantity),3)]),_:1}),createVNode(_sfc_main$6,{label:"Total sold out"},{default:withCtx(()=>[createBaseVNode("button",{title:`  Total sold out\r
                 `,class:normalizeClass([unref(GreenToBlue),"h-auto w-auto text-lg"])},toDisplayString(unref(model).soldCount),3)]),_:1}),createVNode(_sfc_main$6,{label:` Remaining products\r
                        `},{default:withCtx(()=>[createBaseVNode("button",{title:`  Remaining Products\r
                 `,class:normalizeClass([unref(RedToYellow),"h-auto w-auto text-lg"])},toDisplayString(unref(model).totalQuantity-unref(model).soldCount),3)]),_:1})])])):createCommentVNode("",!0),createVNode(_sfc_main$7,{class:"shadow-xl mt-8"},{default:withCtx(()=>[unref(loading)?(openBlock(),createElementBlock("div",_hoisted_3,[createVNode(_sfc_main$8)])):(openBlock(),createElementBlock("form",{key:1,onSubmit:withModifiers(saveProduct,["prevent"])},[createVNode(_sfc_main$9,{color:formStatusOptions[formStatusCurrent.value],"is-placed-with-header":formStatusWithHeader.value},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5,[createBaseVNode("span",null,[createBaseVNode("h1",_hoisted_6,toDisplayString(unref(route).params.id?"Edit product":"Add product"),1)]),createVNode(_sfc_main$5,{class:"w-[200px] float-left sm:ssm:msm:mt-3 md:float-right lg:float-right",target:"_blank",icon:unref(mdiSitemap),label:"Products",color:"contrast","rounded-full":"",small:"",onClick:ProductsList},null,8,["icon"])])]),_:1},8,["color","is-placed-with-header"]),unref(loading)?(openBlock(),createElementBlock("div",_hoisted_7,[createVNode(_sfc_main$8)])):createCommentVNode("",!0),Object.keys(errors.value).length?(openBlock(),createBlock(Alert,{key:1,class:"flex-col items-stretch text-sm"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.keys(errors.value),(a,e)=>(openBlock(),createElementBlock("div",{key:e},[(openBlock(!0),createElementBlock(Fragment,null,renderList(errors.value[a]||[],(f,l)=>(openBlock(),createElementBlock("div",{key:l}," * "+toDisplayString(f),1))),128))]))),128))]),_:1})):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8,[createBaseVNode("div",_hoisted_9,[createBaseVNode("div",null,[_hoisted_10,createBaseVNode("div",_hoisted_11,[unref(model).image_url?(openBlock(),createElementBlock("img",{key:0,src:unref(model).image_url,alt:unref(model).title,class:"w-64 h-48 object-cover transition-all rounded-md transform hover:scale-125"},null,8,_hoisted_12)):(openBlock(),createElementBlock("span",_hoisted_13,_hoisted_15)),createBaseVNode("button",_hoisted_16,[createBaseVNode("input",{type:"file",onChange:onImageChoose,class:"absolute left-0 top-0 right-0 bottom-0 opacity-0 cursor-pointer"},null,32),_hoisted_17])])]),createVNode(_sfc_main$6,{label:"Product title"},{default:withCtx(()=>[createVNode(_sfc_main$2,{type:"text",name:"title",id:"title",modelValue:unref(model).title,"onUpdate:modelValue":o[0]||(o[0]=a=>unref(model).title=a),autocomplete:"survey_title",placeholder:"Enter product title",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm rounded-md"},null,8,["modelValue"])]),_:1}),createVNode(_sfc_main$6,{label:"Description"},{default:withCtx(()=>[createVNode(_sfc_main$2,{id:"description",name:"description",type:"textarea",rows:"3",modelValue:unref(model).description,"onUpdate:modelValue":o[1]||(o[1]=a=>unref(model).description=a),autocomplete:"product_description",class:"mt-6",placeholder:"Describe your product"},null,8,["modelValue"])]),_:1}),createVNode(_sfc_main$6,{label:"Arival Date"},{default:withCtx(()=>[createVNode(_sfc_main$2,{type:"date",name:"arival_date",id:"arival_date",modelValue:unref(model).expire_date,"onUpdate:modelValue":o[2]||(o[2]=a=>unref(model).expire_date=a),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,8,["modelValue"])]),_:1}),createBaseVNode("div",_hoisted_18,[createBaseVNode("div",_hoisted_19,[withDirectives(createBaseVNode("input",{id:"status",name:"status",type:"checkbox","onUpdate:modelValue":o[3]||(o[3]=a=>unref(model).status=a),class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,512),[[vModelCheckbox,unref(model).status]])]),_hoisted_20])]),createBaseVNode("div",_hoisted_21,[createBaseVNode("h3",_hoisted_22,[_hoisted_23,createBaseVNode("button",{type:"button",onClick:o[4]||(o[4]=a=>addQuestion()),class:"flex items-center text-sm py-2 px-4 rounded-sm text-white bg-gray-600 hover:bg-gray-700"},_hoisted_26)]),unref(model).questions.length?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_27," You don't have any products created ")),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(model).questions,(a,e)=>(openBlock(),createElementBlock("div",{key:a.id},[createVNode(_sfc_main$1,{question:a,index:e,onChange:questionChange,onAddQuestion:addQuestion,onDeleteQuestion:deleteQuestion},null,8,["question","index"])]))),128))]),createBaseVNode("div",_hoisted_28,[createBaseVNode("button",_hoisted_29,toDisplayString(unref(route).params.id?"Update":"Save"),1)])])],40,_hoisted_4))]),_:1})]),_:1})]),_:1}))}};export{_sfc_main as default};
